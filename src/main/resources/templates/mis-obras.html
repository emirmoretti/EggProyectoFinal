<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="/fragments/head :: head"></head>

<body>

<header th:replace="/fragments/header :: header"></header>
<!--
<main>

    <img th:if="${session.usuariosession.foto != null}"
         th:src="${'/foto/usuario/' + session.usuariosession.id}" alt="user"/>
    <h3 th:if="${session.usuariosession != null}"
        th:text="${session.usuariosession.nombre + ' ' + session.usuariosession.apellido}"></h3>
    <div class="derecha">
        <h1 th:if="${session.usuariosession != null}"
            th:text="${session.usuariosession.nombre + ' ' + session.usuariosession.apellido}"><a href="/perfil" class="fas fa-user-edit"></a>
        </h1>
        <p th:text="${session.usuariosession.biografia}"></p>
    <a th:href="@{/obra/agregar-obra}" class="btn btn-primary btn-xl rounded-pill mt-5" style="padding: 16px;">Agregar
        obra</a>
    <table class="table table-light table-hover">
        <thead>
        <tr class="bg-black text-white">
            <th>Foto</th>
            <th>Nombre</th>
            <th>Sexo</th>
            <th>Tipo</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="obra : ${obras}">
            <td>
                <img th:if="${obra.foto != null}" class="img-fluid" th:src="${'/foto/obra/' + obra.id}" alt="user"
                     style="max-height: 70px">
                <img th:if="${obra.foto == null}" class="img-fluid" src="/img/m3.jpg" alt="perrito" style="max-height: 70px">
            </td>
            <td th:text="${obra.nombre}"></td>
            <td>
                <a th:href="@{/obra/ver-obra(id=__${obra.id}__)}">Ver obra</a>
                <a th:href="@{/obra/delete}+'?id='+${obra.id}"> Eliminar obra pa</a>
                <a th:href="@{/obra/editar-obra(id=__${obra.id}__)}">Editar obra</a>
            </td>
        </tr>
        </tbody>
    </table>

</main>
-->
<main class="container-fluid" id="mis-obras">
    <section class="container">
        <h1><a class="button-3 nav-link" th:href="@{/obra/agregar-obra}" >Agregar obra</a></h1>
        <p th:if="${obras.isEmpty}">Usted no tiene ninguna obra todav√≠a.</p>
        <table class="table table-hover table-dark" th:if="${!obras.isEmpty}">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col" class="d-none d-md-block d-lg-block">Imagen</th>
                <th scope="col">Nombre</th>
                <th scope="col">Accion</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="obra,iterator : ${obras}">
                <th scope="row" th:text="${iterator.index+1}"></th>
                <td class="d-none d-md-block d-lg-block">
                    <img th:if="${obra.foto != null}" th:src="${'/foto/obra/' + obra.id}" width="100" height="100">
                    <img th:if="${obra.foto == null}" src="https://via.placeholder.com/100" width="100" height="100">
                </td>
                <td th:text="${obra.nombre}">La mona lisa</td>
                <td>
                    <a th:href="@{/obra/ver-obra(id=__${obra.id}__)}">Ver obra</a>
                    <a th:href="@{/obra/editar-obra(id=__${obra.id}__)}">Editar obra</a>
                    <a th:href="@{/obra/delete}+'?id='+${obra.id}">Eliminar obra</a>
                </td>
            </tr>
            </tbody>
        </table>
    </section>
</main>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>

</html>